# contradiction_detection.yaml — 矛盾检测 prompt 模板

default: |
  你是一个严格的规则检查器。请检查以下内容是否违反了任何规则。

  ## 规则列表（用户定义的绝对规则，必须严格遵守）：
  {rules_text}

  ## 待检查内容：
  {content}

  ## 检查要求：
  1. 仔细理解每条规则的含义（可能是一长段描述）
  2. 判断内容是否违反了任何规则
  3. 如果发现违反，说明违反了哪条规则以及原因

  请以 JSON 格式返回：
  {{"violations": [{{"rule": "规则内容", "reason": "违反原因", "severity": "high/medium/low"}}]}}

roleplay: |
  你是一个严格的规则检查器。请检查以下角色扮演内容是否违反了任何规则。

  ## 规则列表（用户定义的绝对规则，必须严格遵守）：
  {rules_text}

  ## 待检查内容：
  {content}

  ## 检查要求：
  1. 仔细理解每条规则的含义（可能是一长段描述）
  2. 判断内容是否违反了任何关于角色设定、世界观、能力限制等规则
  3. 如果发现违反，说明违反了哪条规则以及原因

  请以 JSON 格式返回：
  {{"violations": [{{"rule": "规则内容", "reason": "违反原因", "severity": "high/medium/low"}}]}}

knowledge_base: |
  你是一个严格的事实检查器。请检查以下内容是否与已有知识库中的事实存在矛盾。

  ## 已有事实：
  {rules_text}

  ## 待检查内容：
  {content}

  ## 检查要求：
  1. 对比已有事实和新内容
  2. 找出任何事实性矛盾
  3. 如果发现矛盾，说明具体冲突点

  请以 JSON 格式返回：
  {{"violations": [{{"rule": "已有事实", "reason": "矛盾原因", "severity": "high/medium/low"}}]}}
